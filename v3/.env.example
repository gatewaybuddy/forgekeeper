# Forgekeeper v3 Configuration

# ============================================
# TELEGRAM (Required for chat interface)
# ============================================

# Bot token from @BotFather
TELEGRAM_BOT_TOKEN=

# Comma-separated Telegram user IDs allowed to use the bot
# Leave empty to allow all (not recommended for production)
TELEGRAM_ALLOWED_USERS=

# Comma-separated Telegram user IDs with admin privileges
# Admins can approve/reject tasks
TELEGRAM_ADMIN_USERS=

# ============================================
# CORE LOOP
# ============================================

# How often to check for tasks (milliseconds)
FK_LOOP_INTERVAL_MS=10000

# Max concurrent task executions
FK_MAX_CONCURRENT=1

# ============================================
# CLAUDE CODE
# ============================================

# Claude CLI command (default: claude)
FK_CLAUDE_CMD=claude

# Timeout for Claude operations (milliseconds)
FK_CLAUDE_TIMEOUT_MS=300000

# Max tokens per task
FK_MAX_TOKENS_PER_TASK=50000

# Skip permission prompts (DANGEROUS - only enable if you trust all code)
# This bypasses the folder trust prompt and tool permission checks
FK_CLAUDE_SKIP_PERMISSIONS=0

# ============================================
# STORAGE
# ============================================

# Data directory for JSONL files
FK_DATA_DIR=./data

# Skills directory
FK_SKILLS_DIR=./skills

# MCP servers directory
FK_MCP_DIR=./mcp-servers

# ============================================
# GUARDRAILS
# ============================================

# Max Claude API calls per hour
FK_MAX_CALLS_PER_HOUR=100

# Paths that are allowed (comma-separated, empty = all)
FK_ALLOWED_PATHS=

# Paths that are denied (comma-separated)
FK_DENIED_PATHS=~/.ssh,~/.aws,/etc/passwd,/etc/shadow

# Commands that are denied (comma-separated)
FK_DENIED_COMMANDS=sudo rm -rf /,chmod 777

# ============================================
# TRIGGERS
# ============================================

# Enable proactive triggers
FK_TRIGGERS_ENABLED=1

# Days before a goal is considered stale
FK_STALE_GOAL_DAYS=3

# Hours before a blocked task triggers alert
FK_BLOCKED_TASK_HOURS=24

# ============================================
# LEARNING
# ============================================

# Enable learning from outcomes
FK_LEARNING_ENABLED=1

# Minimum confidence to use a learning
FK_LEARNING_MIN_CONFIDENCE=0.6

# ============================================
# WEB DASHBOARD
# ============================================

# Enable web dashboard
FK_DASHBOARD_ENABLED=1

# Dashboard port
FK_DASHBOARD_PORT=3000

# ============================================
# IDENTITY PERSISTENCE
# ============================================

# Enable identity persistence (default: 1)
# Allows agents to maintain coherent goals, values, and self-model
FK_IDENTITY_ENABLED=1

# Directory for identity storage
FK_IDENTITY_DIR=./data/identity

# Snapshot every N events for faster loading
FK_IDENTITY_SNAPSHOT_INTERVAL=10

# ============================================
# SCOUT MONITOR (Adversarial Self-Monitoring)
# ============================================

# Enable Scout adversarial monitoring (default: 1)
FK_SCOUT_ENABLED=1

# Confidence below this triggers a challenge (0.0-1.0)
FK_SCOUT_CHALLENGE_THRESHOLD=0.7

# Number of decisions to track for groupthink detection
FK_SCOUT_GROUPTHINK_WINDOW=10
